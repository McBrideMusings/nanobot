---
title: Phase 3a â€” Replies & Reactions
status: backlog
priority: medium
tags:
  - chat-app
id: 23
---

# Phase 3a â€” Replies & Reactions

**Scope:** Protocol extensions + client UI

## Reply to Specific Messages

- Swipe-to-reply gesture (like iMessage).
- Shows quoted preview of the original message above the reply.
- Protocol: add optional `reply_to` field to outgoing messages.
- The bot can also reply to specific user messages when contextually relevant.

## Emoji Reactions

- Tap-and-hold a message to add a tapback reaction (like iMessage).
- Protocol: `{"type": "reaction", "message_id": "...", "emoji": "ğŸ‘"}`.
- Reactions persist across reconnects (requires backend storage).
- The bot can react to user messages as a lightweight acknowledgment.

## Prototype UI Details

### Context Menu

- **Trigger**: right-click (desktop) or 500ms long-press (mobile) on a message
- **Floating menu**: emoji reaction bar with 6 quick-pick emojis (ğŸ‘ğŸ‘â¤ï¸ğŸ˜‚ğŸ”¥ğŸ‘€) + Reply and Copy actions

### Reply Compose Bar

- Appears above input field when replying
- Shows: "Replying to [user/nanobot]: [preview text]" + dismiss (Ã—) button
- Typing a new message with the bar visible sends the reply

### Reply Reference in Chat

- Blue vertical bar + truncated quote (80 chars max) displayed above the reply bubble
- Tapping the quote scrolls to the original message

### Reaction Pills

- Rendered below the message bubble
- Bordered pill badges: emoji + count
- Tapping an existing reaction toggles the user's reaction on/off

### Reference

Prototype lines 333â€“418, 503â€“536
